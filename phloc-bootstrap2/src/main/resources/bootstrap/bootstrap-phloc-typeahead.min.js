function _doHighlightSingleTerm(a,d){for(var e="",b=-1,f=d.toLowerCase(),c=a.toLowerCase();0<a.length;)b=c.indexOf(f,b+1),0>b?(e+=a,a=""):a.lastIndexOf(">",b)>=a.lastIndexOf("<",b)&&c.lastIndexOf("/script>",b)>=c.lastIndexOf("<script",b)&&c.lastIndexOf("/strong>",b)>=c.lastIndexOf("<strong",b)&&(e+=a.substring(0,b)+"<strong>"+a.substr(b,d.length)+"</strong>",a=a.substr(b+d.length),c=a.toLowerCase(),b=-1);return e}
function typeaheadHighlighterMultiple(a,d){for(var e in d)a=_doHighlightSingleTerm(a,d[e]);return a}
function registerTypeaheadKeyValuePair(a,d,e,b,f){var c=[],g={};$(a).typeahead({source:function(a,b){var d=function(a){g={};c=[];$.each(a,function(a,b){c.push(b.label);g[b.label]=b.value});b(c)};$.ajax({url:e,data:{query:a},success:function(a,b,c){jqueryAjaxSuccessHandler(a,b,c,d,null)}})},updater:function(a){var b=g[a];d&&d(b);return b?a:""},matcher:function(a){return!0},sorter:function(a){return a},highlighter:function(a){var b=this.query.trim().split(/\s+/);return typeaheadHighlighterMultiple(a,
b)},minLength:b||1,items:f||8})};
