(function(e){var k={className:"autosizejs",append:"",callback:!1},l="hidden",p,q="fontFamily fontSize fontWeight fontStyle letterSpacing textTransform wordSpacing textIndent".split(" "),r,a=e('<textarea tabindex="-1" style="position:absolute; top:-999px; left:0; right:auto; bottom:auto; border:0; -moz-box-sizing:content-box; -webkit-box-sizing:content-box; box-sizing:content-box; word-wrap:break-word; height:0 !important; min-height:0 !important; overflow:hidden;"/>').data("autosize",!0)[0];a.style.lineHeight=
"99px";"99px"===e(a).css("lineHeight")&&q.push("lineHeight");a.style.lineHeight="";e.fn.autosize=function(g){g=e.extend({},k,g||{});a.parentNode!==document.body&&(e(document.body).append(a),a.value="\n\n\n",a.scrollTop=9E4,p=a.scrollHeight===a.scrollTop+a.clientHeight);return this.each(function(){function f(){var d,f,j;r!==b&&(r=b,a.className=g.className,e.each(q,function(b,d){a.style[d]=c.css(d)}));if(!i){i=!0;a.value=b.value+g.append;a.style.overflowY=b.style.overflowY;j=parseInt(b.style.height,
10);a.style.width=Math.max(c.width(),0)+"px";p?d=a.scrollHeight:(a.scrollTop=0,a.scrollTop=9E4,d=a.scrollTop);var h=parseInt(c.css("maxHeight"),10),h=h&&0<h?h:9E4;d>h?(d=h,f="scroll"):d<m&&(d=m);d+=n;b.style.overflowY=f||l;j!==d&&(b.style.height=d+"px",k&&g.callback.call(b));setTimeout(function(){i=!1},1)}}var b=this,c=e(b),m,i,j,n=0,k=e.isFunction(g.callback);if(!c.data("autosize")){if("border-box"===c.css("box-sizing")||"border-box"===c.css("-moz-box-sizing")||"border-box"===c.css("-webkit-box-sizing"))n=
c.outerHeight()-c.height();m=Math.max(parseInt(c.css("minHeight"),10)-n,c.height());j="none"===c.css("resize")||"vertical"===c.css("resize")?"none":"horizontal";c.css({overflow:l,overflowY:l,wordWrap:"break-word",resize:j}).data("autosize",!0);"onpropertychange"in b?"oninput"in b?b.oninput=b.onkeyup=f:b.onpropertychange=f:b.oninput=f;e(window).on("resize",function(){i=!1;f()});c.on("autosize",function(){i=!1;f()});f()}})}})(window.jQuery||window.Zepto);
