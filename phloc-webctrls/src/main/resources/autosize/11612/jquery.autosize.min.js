(function(e){var l={className:"autosizejs",append:"",callback:!1},m="hidden",q="fontFamily fontSize fontWeight fontStyle letterSpacing textTransform wordSpacing textIndent".split(" "),h="oninput",r,d=e('<textarea tabindex="-1" style="position:absolute; top:-999px; left:0; right:auto; bottom:auto; border:0; -moz-box-sizing:content-box; -webkit-box-sizing:content-box; box-sizing:content-box; word-wrap:break-word; height:0 !important; min-height:0 !important; overflow:hidden;"/>').data("autosize",!0)[0];
d.style.lineHeight="99px";"99px"===e(d).css("lineHeight")&&q.push("lineHeight");d.style.lineHeight="";e.fn.autosize=function(g){g=e.extend({},l,g||{});d.parentNode!==document.body&&e(document.body).append(d);return this.each(function(){function l(){r=a;d.className=g.className;k=parseInt(b.css("maxHeight"),10);e.each(q,function(a,c){d.style[c]=b.css(c)});if(h in a){var c=a.value;a.value="";a.value=c}}function f(){var c,e,f;r!==a&&l();d.value=a.value+g.append;d.style.overflowY=a.style.overflowY;f=parseInt(a.style.height,
10);d.style.width=Math.max(b.width(),0)+"px";d.scrollTop=0;d.scrollTop=9E4;c=d.scrollTop;k&&c>k?(c=k,e="scroll"):c<n&&(c=n);c+=p;a.style.overflowY=e||m;f!==c&&(a.style.height=c+"px",t&&g.callback.call(a,a))}var a=this,b=e(a),n,k,s,p=0,t=e.isFunction(g.callback);if(!b.data("autosize")){if("border-box"===b.css("box-sizing")||"border-box"===b.css("-moz-box-sizing")||"border-box"===b.css("-webkit-box-sizing"))p=b.outerHeight()-b.height();n=Math.max(parseInt(b.css("minHeight"),10)-p||0,b.height());s="none"===
b.css("resize")||"vertical"===b.css("resize")?"none":"horizontal";b.css({overflow:m,overflowY:m,wordWrap:"break-word",resize:s}).data("autosize",!0);"onpropertychange"in a?h in a?a[h]=a.onkeyup=f:a.onpropertychange=function(){"value"===event.propertyName&&f()}:a[h]=f;e(window).on("resize",function(){active=!1;f()});b.on("autosize",function(){active=!1;f()});f()}})}})(window.jQuery||window.Zepto);
