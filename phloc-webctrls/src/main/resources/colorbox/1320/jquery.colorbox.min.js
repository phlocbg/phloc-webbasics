(function(b,D,da){function c(a,g,c){a=D.createElement(a);g&&(a.id=p+g);c&&(a.style.cssText=c);return b(a)}function M(a){var b=k.length,a=(n+a)%b;return 0>a?b+a:a}function l(a,b){return Math.round((/%/.test(a)?("x"===b?h.width():h.height())/100:1)*parseInt(a,10))}function ea(b){return a.photo||/\.(gif|png|jp(e|g|eg)|bmp|ico)((#|\?).*)?$/i.test(b)}function fa(){var x,g=b.data(j,t);null==g?(a=b.extend({},R),console&&console.log&&console.log("Error: cboxElement missing settings object")):a=b.extend({},
g);for(x in a)b.isFunction(a[x])&&"on"!==x.slice(0,2)&&(a[x]=a[x].call(j));a.rel=a.rel||j.rel||b(j).data("rel")||"nofollow";a.href=a.href||b(j).attr("href");a.title=a.title||j.title;"string"===typeof a.href&&(a.href=b.trim(a.href))}function B(a,g){b.event.trigger(a);g&&g.call(j)}function la(){var b,g=p+"Slideshow_",c="click."+p,e,q;a.slideshow&&k[1]?(e=function(){F.html(a.slideshowStop).unbind(c).bind(S,function(){if(a.loop||k[n+1])b=setTimeout(f.next,a.slideshowSpeed)}).bind(T,function(){clearTimeout(b)}).one(c+
" "+N,q);i.removeClass(g+"off").addClass(g+"on");b=setTimeout(f.next,a.slideshowSpeed)},q=function(){clearTimeout(b);F.html(a.slideshowStart).unbind([S,T,N,c].join(" ")).one(c,function(){f.next();e()});i.removeClass(g+"on").addClass(g+"off")},a.slideshowAuto?e():q()):i.removeClass(g+"off "+g+"on")}function ga(c){if(!O){j=c;fa();k=b(j);n=0;"nofollow"!==a.rel&&(k=b("."+E).filter(function(){var c=b.data(this,t),x;c&&(x=b(this).data("rel")||c.rel||this.rel);return x===a.rel}),n=k.index(j),-1===n&&(k=
k.add(j),n=k.length-1));if(!u){u=G=!0;i.show();if(a.returnFocus)b(j).blur().one(ha,function(){b(this).focus()});y.css({opacity:+a.opacity,cursor:a.overlayClose?"pointer":"auto"}).show();a.w=l(a.initialWidth,"x");a.h=l(a.initialHeight,"y");f.position();H&&h.bind("resize."+P+" scroll."+P,function(){y.css({width:h.width(),height:h.height(),top:h.scrollTop(),left:h.scrollLeft()})}).trigger("resize."+P);B(ia,a.onOpen);U.add(V).hide();W.html(a.close).show()}f.load(!0)}}function ja(){!i&&D.body&&(X=!1,h=
b(da),i=c(e).attr({id:t,"class":I?p+(H?"IE6":"IE"):""}).hide(),y=c(e,"Overlay",H?"position:absolute":"").hide(),Y=c(e,"LoadingOverlay").add(c(e,"LoadingGraphic")),C=c(e,"Wrapper"),s=c(e,"Content").append(m=c(e,"LoadedContent","width:0; height:0; overflow:hidden"),V=c(e,"Title"),Z=c(e,"Current"),J=c(e,"Next"),K=c(e,"Previous"),F=c(e,"Slideshow").bind(ia,la),W=c(e,"Close")),C.append(c(e).append(c(e,"TopLeft"),$=c(e,"TopCenter"),c(e,"TopRight")),c(e,!1,"clear:left").append(aa=c(e,"MiddleLeft"),s,ba=
c(e,"MiddleRight")),c(e,!1,"clear:left").append(c(e,"BottomLeft"),ca=c(e,"BottomCenter"),c(e,"BottomRight"))).find("div div").css({"float":"left"}),L=c(e,!1,"position:absolute; width:9999px; visibility:hidden; display:none"),U=J.add(K).add(Z).add(F),b(D.body).append(y,i.append(C,L)))}var R={transition:"elastic",speed:300,width:!1,initialWidth:"600",innerWidth:!1,maxWidth:!1,height:!1,initialHeight:"450",innerHeight:!1,maxHeight:!1,scalePhotos:!0,scrolling:!0,inline:!1,html:!1,iframe:!1,fastIframe:!0,
photo:!1,href:!1,title:!1,rel:!1,opacity:0.9,preloading:!0,current:"image {current} of {total}",previous:"previous",next:"next",close:"close",xhrError:"This content failed to load.",imgError:"This image failed to load.",open:!1,returnFocus:!0,reposition:!0,loop:!0,slideshow:!1,slideshowAuto:!0,slideshowSpeed:2500,slideshowStart:"start slideshow",slideshowStop:"stop slideshow",onOpen:!1,onLoad:!1,onComplete:!1,onCleanup:!1,onClosed:!1,overlayClose:!0,escKey:!0,arrowKey:!0,top:!1,bottom:!1,left:!1,
right:!1,fixed:!1,data:void 0},t="colorbox",p="cbox",E=p+"Element",ia=p+"_open",T=p+"_load",S=p+"_complete",N=p+"_cleanup",ha=p+"_closed",Q=p+"_purge",I=!b.support.opacity&&!b.support.style,H=I&&!da.XMLHttpRequest,P=p+"_IE6",y,i,C,s,$,aa,ba,ca,k,h,m,L,Y,V,Z,F,J,K,W,U,a,z,A,v,w,j,n,d,u,G,O,ka,f,e="div",X;b.colorbox||(b(ja),f=b.fn[t]=b[t]=function(c,e){var d=this,c=c||{};ja();var r;i?(X||(X=!0,z=$.height()+ca.height()+s.outerHeight(!0)-s.height(),A=aa.width()+ba.width()+s.outerWidth(!0)-s.width(),v=
m.outerHeight(!0),w=m.outerWidth(!0),i.css({"padding-bottom":z,"padding-right":A}),J.click(function(){f.next()}),K.click(function(){f.prev()}),W.click(function(){f.close()}),y.click(function(){a.overlayClose&&f.close()}),b(D).bind("keydown."+p,function(b){var c=b.keyCode;u&&(a.escKey&&27===c)&&(b.preventDefault(),f.close());u&&(a.arrowKey&&k[1])&&(37===c?(b.preventDefault(),K.click()):39===c&&(b.preventDefault(),J.click()))}),b(D).delegate("."+E,"click",function(a){1<a.which||(a.shiftKey||a.altKey||
a.metaKey)||(a.preventDefault(),ga(this))})),r=!0):r=!1;if(r){if(!d[0]){if(d.selector)return d;d=b("<a/>");c.open=!0}e&&(c.onComplete=e);d.each(function(){b.data(this,t,b.extend({},b.data(this,t)||R,c))}).addClass(E);(b.isFunction(c.open)&&c.open.call(d)||c.open)&&ga(d[0])}return d},f.position=function(b,c){function e(a){$[0].style.width=ca[0].style.width=s[0].style.width=a.style.width;s[0].style.height=aa[0].style.height=ba[0].style.height=a.style.height}var d,q=d=0,k=i.offset(),m,n;h.unbind("resize."+
p);i.css({top:-9E4,left:-9E4});m=h.scrollTop();n=h.scrollLeft();a.fixed&&!H?(k.top-=m,k.left-=n,i.css({position:"fixed"})):(d=m,q=n,i.css({position:"absolute"}));q=!1!==a.right?q+Math.max(h.width()-a.w-w-A-l(a.right,"x"),0):!1!==a.left?q+l(a.left,"x"):q+Math.round(Math.max(h.width()-a.w-w-A,0)/2);d=!1!==a.bottom?d+Math.max(h.height()-a.h-v-z-l(a.bottom,"y"),0):!1!==a.top?d+l(a.top,"y"):d+Math.round(Math.max(h.height()-a.h-v-z,0)/2);i.css({top:k.top,left:k.left});b=i.width()===a.w+w&&i.height()===
a.h+v?0:b||0;C[0].style.width=C[0].style.height="9999px";d={width:a.w+w,height:a.h+v,top:d,left:q};0===b&&i.css(d);i.dequeue().animate(d,{duration:b,complete:function(){e(this);G=!1;C[0].style.width=a.w+w+A+"px";C[0].style.height=a.h+v+z+"px";a.reposition&&setTimeout(function(){h.bind("resize."+p,f.position)},1);c&&c()},step:function(){e(this)}})},f.resize=function(b){u&&(b=b||{},b.width&&(a.w=l(b.width,"x")-w-A),b.innerWidth&&(a.w=l(b.innerWidth,"x")),m.css({width:a.w}),b.height&&(a.h=l(b.height,
"y")-v-z),b.innerHeight&&(a.h=l(b.innerHeight,"y")),!b.innerHeight&&!b.height&&(m.css({height:"auto"}),a.h=m.height()),m.css({height:a.h}),f.position("none"===a.transition?0:a.speed))},f.prep=function(h){function g(){a.w=a.w||m.width();a.w=a.mw&&a.mw<a.w?a.mw:a.w;return a.w}function l(){a.h=a.h||m.height();a.h=a.mh&&a.mh<a.h?a.mh:a.h;return a.h}if(u){var j,q="none"===a.transition?0:a.speed;m.remove();m=c(e,"LoadedContent").append(h);m.hide().appendTo(L.show()).css({width:g(),overflow:a.scrolling?
"auto":"hidden"}).css({height:l()}).prependTo(s);L.hide();b(d).css({"float":"none"});if(H)b("select").not(i.find("select")).filter(function(){return"hidden"!==this.style.visibility}).css({visibility:"hidden"}).one(N,function(){this.style.visibility="inherit"});j=function(){function e(){I&&i[0].style.removeAttribute("filter")}var f,g;f=k.length;var h,l,j;if(u){l=function(){clearTimeout(ka);Y.detach().hide();B(S,a.onComplete)};I&&d&&m.fadeIn(100);V.html(a.title).add(m).show();if(1<f){if("string"===
typeof a.current&&Z.html(a.current.replace("{current}",n+1).replace("{total}",f)).show(),J[a.loop||n<f-1?"show":"hide"]().html(a.next),K[a.loop||n?"show":"hide"]().html(a.previous),a.slideshow&&F.show(),a.preloading)for(f=[M(-1),M(1)];g=k[f.pop()];)(j=b.data(g,t))&&j.href?(j=j.href,b.isFunction(j)&&(j=j.call(g))):j=g.href,ea(j)&&(g=new Image,g.src=j)}else U.hide();a.iframe?(h=c("iframe")[0],"frameBorder"in h&&(h.frameBorder=0),"allowTransparency"in h&&(h.allowTransparency="true"),a.scrolling||(h.scrolling=
"no"),b(h).attr({src:a.href,name:(new Date).getTime(),"class":p+"Iframe",allowFullScreen:!0,webkitAllowFullScreen:!0,mozallowfullscreen:!0}).one("load",l).one(Q,function(){h.src="//about:blank"}).appendTo(m),a.fastIframe&&b(h).trigger("load")):l();"fade"===a.transition?i.fadeTo(q,1,e):e()}};"fade"===a.transition?i.fadeTo(q,0,function(){f.position(0,j)}):f.position(q,j)}},f.load=function(h){var g,i,r=f.prep;G=!0;d=!1;j=k[n];h||fa();B(Q);B(T,a.onLoad);a.h=a.height?l(a.height,"y")-v-z:a.innerHeight&&
l(a.innerHeight,"y");a.w=a.width?l(a.width,"x")-w-A:a.innerWidth&&l(a.innerWidth,"x");a.mw=a.w;a.mh=a.h;a.maxWidth&&(a.mw=l(a.maxWidth,"x")-w-A,a.mw=a.w&&a.w<a.mw?a.w:a.mw);a.maxHeight&&(a.mh=l(a.maxHeight,"y")-v-z,a.mh=a.h&&a.h<a.mh?a.h:a.mh);g=a.href;ka=setTimeout(function(){Y.show().appendTo(s)},100);a.inline?(c(e).hide().insertBefore(b(g)[0]).one(Q,function(){b(this).replaceWith(m.children())}),r(b(g))):a.iframe?r(" "):a.html?r(a.html):ea(g)?(b(d=new Image).addClass(p+"Photo").error(function(){a.title=
!1;r(c(e,"Error").html(a.imgError))}).load(function(){var b;d.onload=null;a.scalePhotos&&(i=function(){d.height-=d.height*b;d.width-=d.width*b},a.mw&&d.width>a.mw&&(b=(d.width-a.mw)/d.width,i()),a.mh&&d.height>a.mh&&(b=(d.height-a.mh)/d.height,i()));a.h&&(d.style.marginTop=Math.max(a.h-d.height,0)/2+"px");if(k[1]&&(a.loop||k[n+1]))d.style.cursor="pointer",d.onclick=function(){f.next()};I&&(d.style.msInterpolationMode="bicubic");setTimeout(function(){r(d)},1)}),setTimeout(function(){d.src=g},1)):g&&
L.load(g,a.data,function(d,f){r("error"===f?c(e,"Error").html(a.xhrError):b(this).contents())})},f.next=function(){if(!G&&k[1]&&(a.loop||k[n+1]))n=M(1),f.load()},f.prev=function(){if(!G&&k[1]&&(a.loop||n))n=M(-1),f.load()},f.close=function(){u&&!O&&(O=!0,u=!1,B(N,a.onCleanup),h.unbind("."+p+" ."+P),y.fadeTo(200,0),i.stop().fadeTo(300,0,function(){i.add(y).css({opacity:1,cursor:"auto"}).hide();B(Q);m.remove();setTimeout(function(){O=!1;B(ha,a.onClosed)},1)}))},f.remove=function(){b([]).add(i).add(y).remove();
i=null;b("."+E).removeData(t).removeClass(E);b(D).undelegate("."+E)},f.element=function(){return b(j)},f.settings=R)})(jQuery,document,window);
