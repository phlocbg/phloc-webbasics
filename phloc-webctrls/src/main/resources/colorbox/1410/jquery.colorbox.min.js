(function(b,r,u){function e(a,c,e){a=r.createElement(a);c&&(a.id=l+c);e&&(a.style.cssText=e);return b(a)}function U(){return u.innerHeight?u.innerHeight:b(u).height()}function P(a){var b=i.length,a=(k+a)%b;return 0>a?b+a:a}function m(a,b){return Math.round((/%/.test(a)?("x"===b?n.width():U())/100:1)*parseInt(a,10))}function oa(a){"contains"in c[0]&&!c[0].contains(a.target)&&(a.stopPropagation(),c.focus())}function pa(){var j,c=b.data(p,v);null==c?(a=b.extend({},V),console&&console.log&&console.log("Error: cboxElement missing settings object")):
a=b.extend({},c);for(j in a)b.isFunction(a[j])&&"on"!==j.slice(0,2)&&(a[j]=a[j].call(p));a.rel=a.rel||p.rel||b(p).data("rel")||"nofollow";a.href=a.href||b(p).attr("href");a.title=a.title||p.title;"string"===typeof a.href&&(a.href=b.trim(a.href))}function D(a,c){b(r).trigger(a);E.trigger(a);b.isFunction(c)&&c.call(p)}function Q(j){if(!J){p=j;pa();i=b(p);k=0;"nofollow"!==a.rel&&(i=b("."+H).filter(function(){var c=b.data(this,v),j;c&&(j=b(this).data("rel")||c.rel||this.rel);return j===a.rel}),k=i.index(p),
-1===k&&(i=i.add(p),k=i.length-1));w.css({opacity:parseFloat(a.opacity),cursor:a.overlayClose?"pointer":"auto",visibility:"visible"}).show();W&&c.add(w).removeClass(W);a.className&&c.add(w).addClass(a.className);W=a.className;X.html(a.close).show();if(!x){x=K=!0;c.css({visibility:"hidden",display:"block"});q=e(d,"LoadedContent","width:0; height:0; overflow:hidden").appendTo(s);y=Y.height()+Z.height()+s.outerHeight(!0)-s.height();z=$.width()+aa.width()+s.outerWidth(!0)-s.width();A=q.outerHeight(!0);
B=q.outerWidth(!0);a.w=m(a.initialWidth,"x");a.h=m(a.initialHeight,"y");h.position();var na,G=l+"Slideshow_",f="click."+l,R,ba,ca,C;a.slideshow&&i[1]?(R=function(){clearTimeout(na)},ba=function(){if(a.loop||i[k+1])na=setTimeout(h.next,a.slideshowSpeed)},ca=function(){L.html(a.slideshowStop).unbind(f).one(f,C);E.bind(da,ba).bind(ea,R).bind(fa,C);c.removeClass(G+"off").addClass(G+"on")},C=function(){R();E.unbind(da,ba).unbind(ea,R).unbind(fa,C);L.html(a.slideshowStart).unbind(f).one(f,function(){h.next();
ca()});c.removeClass(G+"on").addClass(G+"off")},a.slideshowAuto?ca():C()):c.removeClass(G+"off "+G+"on");D(ta,a.onOpen);ga.add(ha).hide();c.focus();r.addEventListener&&(r.addEventListener("focus",oa,!0),E.one(ia,function(){r.removeEventListener("focus",oa,!0)}));if(a.returnFocus)E.one(ia,function(){b(p).focus()})}var t,ja,I=h.prep,qa,n=++ka;K=!0;g=!1;p=i[k];pa();D(S);D(ea,a.onLoad);a.h=a.height?m(a.height,"y")-A-y:a.innerHeight&&m(a.innerHeight,"y");a.w=a.width?m(a.width,"x")-B-z:a.innerWidth&&m(a.innerWidth,
"x");a.mw=a.w;a.mh=a.h;a.maxWidth&&(a.mw=m(a.maxWidth,"x")-B-z,a.mw=a.w&&a.w<a.mw?a.w:a.mw);a.maxHeight&&(a.mh=m(a.maxHeight,"y")-A-y,a.mh=a.h&&a.h<a.mh?a.h:a.mh);t=a.href;ra=setTimeout(function(){T.show()},100);a.inline?(qa=e(d).hide().insertBefore(b(t)[0]),E.one(S,function(){qa.replaceWith(q.children())}),I(b(t))):a.iframe?I(" "):a.html?I(a.html):a.photo||a.photoRegex.test(t)?(t=a.retinaUrl&&1<u.devicePixelRatio?t.replace(a.photoRegex,a.retinaSuffix):t,b(g=new Image).addClass(l+"Photo").bind("error",
function(){a.title=!1;I(e(d,"Error").html(a.imgError))}).one("load",function(){var b;if(n===ka){a.retinaImage&&1<u.devicePixelRatio&&(g.height/=u.devicePixelRatio,g.width/=u.devicePixelRatio);a.scalePhotos&&(ja=function(){g.height-=g.height*b;g.width-=g.width*b},a.mw&&g.width>a.mw&&(b=(g.width-a.mw)/g.width,ja()),a.mh&&g.height>a.mh&&(b=(g.height-a.mh)/g.height,ja()));a.h&&(g.style.marginTop=Math.max(a.mh-g.height,0)/2+"px");if(i[1]&&(a.loop||i[k+1]))g.style.cursor="pointer",g.onclick=function(){h.next()};
setTimeout(function(){I(g)},1)}}),setTimeout(function(){g.src=t},1)):t&&M.load(t,a.data,function(c,j){n===ka&&I("error"===j?e(d,"Error").html(a.xhrError):b(this).contents())})}}function sa(){!c&&r.body&&(la=!1,n=b(u),c=e(d).attr({id:v,"class":!1===b.support.opacity?l+"IE":"",role:"dialog",tabindex:"-1"}).hide(),w=e(d,"Overlay").hide(),T=e(d,"LoadingOverlay").add(e(d,"LoadingGraphic")),F=e(d,"Wrapper"),s=e(d,"Content").append(ha=e(d,"Title"),ma=e(d,"Current"),N=e("button","Previous"),O=e("button",
"Next"),L=e("button","Slideshow"),T,X=e("button","Close")),F.append(e(d).append(e(d,"TopLeft"),Y=e(d,"TopCenter"),e(d,"TopRight")),e(d,!1,"clear:left").append($=e(d,"MiddleLeft"),s,aa=e(d,"MiddleRight")),e(d,!1,"clear:left").append(e(d,"BottomLeft"),Z=e(d,"BottomCenter"),e(d,"BottomRight"))).find("div div").css({"float":"left"}),M=e(d,!1,"position:absolute; width:9999px; visibility:hidden; display:none"),ga=O.add(N).add(ma).add(L),b(r.body).append(w,c.append(F,M)))}var V={transition:"elastic",speed:300,
width:!1,initialWidth:"600",innerWidth:!1,maxWidth:!1,height:!1,initialHeight:"450",innerHeight:!1,maxHeight:!1,scalePhotos:!0,scrolling:!0,inline:!1,html:!1,iframe:!1,fastIframe:!0,photo:!1,href:!1,title:!1,rel:!1,opacity:0.9,preloading:!0,className:!1,retinaImage:!1,retinaUrl:!1,retinaSuffix:"@2x.$1",current:"image {current} of {total}",previous:"previous",next:"next",close:"close",xhrError:"This content failed to load.",imgError:"This image failed to load.",open:!1,returnFocus:!0,reposition:!0,
loop:!0,slideshow:!1,slideshowAuto:!0,slideshowSpeed:2500,slideshowStart:"start slideshow",slideshowStop:"stop slideshow",photoRegex:/\.(gif|png|jp(e|g|eg)|bmp|ico)((#|\?).*)?$/i,onOpen:!1,onLoad:!1,onComplete:!1,onCleanup:!1,onClosed:!1,overlayClose:!0,escKey:!0,arrowKey:!0,top:!1,bottom:!1,left:!1,right:!1,fixed:!1,data:void 0},v="colorbox",l="cbox",H=l+"Element",ta=l+"_open",ea=l+"_load",da=l+"_complete",fa=l+"_cleanup",ia=l+"_closed",S=l+"_purge",w,c,F,s,Y,$,aa,Z,i,n,q,M,T,ha,ma,L,O,N,X,ga,E=
b("<a/>"),a,y,z,A,B,p,k,g,x,K,J,ra,h,d="div",W,ka=0,la;b.colorbox||(b(sa),h=b.fn[v]=b[v]=function(j,e){var d=this,j=j||{};sa();var f;f=function(a){1<a.which||(a.shiftKey||a.altKey||a.metaKey||a.control)||(a.preventDefault(),Q(this))};if(c){if(!la)if(la=!0,O.click(function(){h.next()}),N.click(function(){h.prev()}),X.click(function(){h.close()}),w.click(function(){a.overlayClose&&h.close()}),b(r).bind("keydown."+l,function(b){var c=b.keyCode;x&&(a.escKey&&27===c)&&(b.preventDefault(),h.close());x&&
(a.arrowKey&&i[1]&&!b.altKey)&&(37===c?(b.preventDefault(),N.click()):39===c&&(b.preventDefault(),O.click()))}),b.isFunction(b.fn.on))b(r).on("click."+l,"."+H,f);else b("."+H).live("click."+l,f);f=!0}else f=!1;if(f){if(b.isFunction(d))d=b("<a/>"),j.open=!0;else if(!d[0])return d;e&&(j.onComplete=e);d.each(function(){b.data(this,v,b.extend({},b.data(this,v)||V,j))}).addClass(H);(b.isFunction(j.open)&&j.open.call(d)||j.open)&&Q(d[0])}return d},h.position=function(b,e){function d(a){Y[0].style.width=
Z[0].style.width=s[0].style.width=parseInt(a.style.width,10)-z+"px";s[0].style.height=$[0].style.height=aa[0].style.height=parseInt(a.style.height,10)-y+"px"}var f,g=f=0,i=c.offset(),k,C;n.unbind("resize."+l);c.css({top:-9E4,left:-9E4});k=n.scrollTop();C=n.scrollLeft();a.fixed?(i.top-=k,i.left-=C,c.css({position:"fixed"})):(f=k,g=C,c.css({position:"absolute"}));g=!1!==a.right?g+Math.max(n.width()-a.w-B-z-m(a.right,"x"),0):!1!==a.left?g+m(a.left,"x"):g+Math.round(Math.max(n.width()-a.w-B-z,0)/2);f=
!1!==a.bottom?f+Math.max(U()-a.h-A-y-m(a.bottom,"y"),0):!1!==a.top?f+m(a.top,"y"):f+Math.round(Math.max(U()-a.h-A-y,0)/2);c.css({top:i.top,left:i.left,visibility:"visible"});b=c.width()===a.w+B&&c.height()===a.h+A?0:b||0;F[0].style.width=F[0].style.height="9999px";f={width:a.w+B+z,height:a.h+A+y,top:f,left:g};0===b&&c.css(f);c.dequeue().animate(f,{duration:b,complete:function(){d(this);K=!1;F[0].style.width=a.w+B+z+"px";F[0].style.height=a.h+A+y+"px";a.reposition&&setTimeout(function(){n.bind("resize."+
l,h.position)},1);e&&e()},step:function(){d(this)}})},h.resize=function(b){x&&(b=b||{},b.width&&(a.w=m(b.width,"x")-B-z),b.innerWidth&&(a.w=m(b.innerWidth,"x")),q.css({width:a.w}),b.height&&(a.h=m(b.height,"y")-A-y),b.innerHeight&&(a.h=m(b.innerHeight,"y")),!b.innerHeight&&!b.height&&(q.css({height:"auto"}),a.h=q.height()),q.css({height:a.h}),h.position("none"===a.transition?0:a.speed))},h.prep=function(j){function m(){a.w=a.w||q.width();a.w=a.mw&&a.mw<a.w?a.mw:a.w;return a.w}function p(){a.h=a.h||
q.height();a.h=a.mh&&a.mh<a.h?a.mh:a.h;return a.h}if(x){var f,n="none"===a.transition?0:a.speed;q.empty().remove();q=e(d,"LoadedContent").append(j);q.hide().appendTo(M.show()).css({width:m(),overflow:a.scrolling?"auto":"hidden"}).css({height:p()}).prependTo(s);M.hide();b(g).css({"float":"none"});f=function(){function d(){!1===b.support.opacity&&c[0].style.removeAttribute("filter")}var g=i.length,f,h;x&&(h=function(){clearTimeout(ra);T.hide();D(da,a.onComplete)},ha.html(a.title).add(q).show(),1<g?
("string"===typeof a.current&&ma.html(a.current.replace("{current}",k+1).replace("{total}",g)).show(),O[a.loop||k<g-1?"show":"hide"]().html(a.next),N[a.loop||k?"show":"hide"]().html(a.previous),a.slideshow&&L.show(),a.preloading&&b.each([P(-1),P(1)],function(){var a,c;c=i[this];var d=b.data(c,v);d&&d.href?(a=d.href,b.isFunction(a)&&(a=a.call(c))):a=b(c).attr("href");if(a&&(d.photo||d.photoRegex.test(a)))a=d.retinaUrl&&1<u.devicePixelRatio?a.replace(d.photoRegex,d.retinaSuffix):a,c=new Image,c.src=
a})):ga.hide(),a.iframe?(f=e("iframe")[0],"frameBorder"in f&&(f.frameBorder=0),"allowTransparency"in f&&(f.allowTransparency="true"),a.scrolling||(f.scrolling="no"),b(f).attr({src:a.href,name:(new Date).getTime(),"class":l+"Iframe",allowFullScreen:!0,webkitAllowFullScreen:!0,mozallowfullscreen:!0}).one("load",h).appendTo(q),E.one(S,function(){f.src="//about:blank"}),a.fastIframe&&b(f).trigger("load")):h(),"fade"===a.transition?c.fadeTo(n,1,d):d())};"fade"===a.transition?c.fadeTo(n,0,function(){h.position(0,
f)}):h.position(n,f)}},h.next=function(){if(!K&&i[1]&&(a.loop||i[k+1]))k=P(1),Q(i[k])},h.prev=function(){if(!K&&i[1]&&(a.loop||k))k=P(-1),Q(i[k])},h.close=function(){x&&!J&&(J=!0,x=!1,D(fa,a.onCleanup),n.unbind("."+l),w.fadeTo(200,0),c.stop().fadeTo(300,0,function(){c.add(w).css({opacity:1,cursor:"auto"}).hide();D(S);q.empty().remove();setTimeout(function(){J=!1;D(ia,a.onClosed)},1)}))},h.remove=function(){c&&(c.stop(),b.colorbox.close(),c.stop().remove(),w.remove(),J=!1,c=null,b("."+H).removeData(v).removeClass(H),
b(r).unbind("click."+l))},h.element=function(){return b(p)},h.settings=V)})(jQuery,document,window);
