(function(h){var a={isMsie:function(){var a=/(msie) ([\w.]+)/i.exec(navigator.userAgent);return a?parseInt(a[2],10):!1},isBlankString:function(a){return!a||/^\s*$/.test(a)},escapeRegExChars:function(a){return a.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")},isString:function(a){return"string"===typeof a},isNumber:function(a){return"number"===typeof a},isArray:h.isArray,isFunction:h.isFunction,isObject:h.isPlainObject,isUndefined:function(a){return"undefined"===typeof a},bind:h.proxy,bindAll:function(a){var f,
e;for(e in a)h.isFunction(f=a[e])&&(a[e]=h.proxy(f,a))},indexOf:function(a,f){for(var e=0;e<a.length;e++)if(a[e]===f)return e;return-1},each:h.each,map:h.map,filter:h.grep,every:function(a,f){var e=!0;if(!a)return e;h.each(a,function(g,c){if(!(e=f.call(null,c,g,a)))return!1});return!!e},some:function(a,f){var e=!1;if(!a)return e;h.each(a,function(g,c){if(e=f.call(null,c,g,a))return!1});return!!e},mixin:h.extend,getUniqueId:function(){var a=0;return function(){return a++}}(),defer:function(a){setTimeout(a,
0)},debounce:function(a,f,e){var g,c;return function(){var b=this,d=arguments,l;l=e&&!g;clearTimeout(g);g=setTimeout(function(){g=null;e||(c=a.apply(b,d))},f);l&&(c=a.apply(b,d));return c}},throttle:function(a,f){var e,g,c,b,d,l;d=0;l=function(){d=new Date;c=null;b=a.apply(e,g)};return function(){var r=new Date,h=f-(r-d);e=this;g=arguments;0>=h?(clearTimeout(c),c=null,d=r,b=a.apply(e,g)):c||(c=setTimeout(l,h));return b}},tokenizeQuery:function(a){return h.trim(a).toLowerCase().split(/[\s]+/)},tokenizeText:function(a){return h.trim(a).toLowerCase().split(/[\s\-_]+/)},
getProtocol:function(){return location.protocol},noop:function(){}},s=function(){var a=/\s+/;return{on:function(f,e){var g;if(!e)return this;this._callbacks=this._callbacks||{};for(f=f.split(a);g=f.shift();)this._callbacks[g]=this._callbacks[g]||[],this._callbacks[g].push(e);return this},trigger:function(f,e){var g,c;if(!this._callbacks)return this;for(f=f.split(a);g=f.shift();)if(c=this._callbacks[g])for(var b=0;b<c.length;b+=1)c[b].call(this,{type:g,data:e});return this}}}(),u=function(){function k(a){(!a||
!a.el)&&h.error("EventBus initialized without el");this.$el=h(a.el)}a.mixin(k.prototype,{trigger:function(a){var e=[].slice.call(arguments,1);this.$el.trigger("typeahead:"+a,e)}});return k}(),v=function(){function h(a){this.prefix=["__",a,"__"].join("");this.ttlKey="__ttl__";this.keyMatcher=RegExp("^"+this.prefix)}function f(c){return JSON.stringify(a.isUndefined(c)?null:c)}var e;try{e=window.localStorage,e.setItem("~~~","!"),e.removeItem("~~~")}catch(g){e=null}a.mixin(h.prototype,e&&window.JSON?
{_prefix:function(a){return this.prefix+a},_ttlKey:function(a){return this._prefix(a)+this.ttlKey},get:function(a){this.isExpired(a)&&this.remove(a);a=e.getItem(this._prefix(a));return JSON.parse(a)},set:function(c,b,d){a.isNumber(d)?e.setItem(this._ttlKey(c),f((new Date).getTime()+d)):e.removeItem(this._ttlKey(c));return e.setItem(this._prefix(c),f(b))},remove:function(a){e.removeItem(this._ttlKey(a));e.removeItem(this._prefix(a));return this},clear:function(){var a,b,d=[],l=e.length;for(a=0;a<l;a++)(b=
e.key(a)).match(this.keyMatcher)&&d.push(b.replace(this.keyMatcher,""));for(a=d.length;a--;)this.remove(d[a]);return this},isExpired:function(c){c=e.getItem(this._ttlKey(c));c=JSON.parse(c);return a.isNumber(c)&&(new Date).getTime()>c?!0:!1}}:{get:a.noop,set:a.noop,remove:a.noop,clear:a.noop,isExpired:a.noop});return h}(),w=function(){function h(f){a.bindAll(this);f=f||{};this.sizeLimit=f.sizeLimit||10;this.cache={};this.cachedKeysByAge=[]}a.mixin(h.prototype,{get:function(a){return this.cache[a]},
set:function(a,e){var g;this.cachedKeysByAge.length===this.sizeLimit&&(g=this.cachedKeysByAge.shift(),delete this.cache[g]);this.cache[a]=e;this.cachedKeysByAge.push(a)}});return h}(),x=function(){function k(b){a.bindAll(this);b=a.isString(b)?{url:b}:b;c=c||new w;g=a.isNumber(b.maxParallelRequests)?b.maxParallelRequests:g||6;this.url=b.url;this.wildcard=b.wildcard||"%QUERY";this.filter=b.filter;this.replace=b.replace;this.ajaxSettings={type:"get",cache:b.cache,timeout:b.timeout,dataType:b.dataType||
"json",beforeSend:b.beforeSend};this._get=(/^throttle$/i.test(b.rateLimitFn)?a.throttle:a.debounce)(this._get,b.rateLimitWait||300)}var f=0,e={},g,c;a.mixin(k.prototype,{_get:function(a,d){function e(l){var f=r.filter?r.filter(l):l;d&&d(f);c.set(a,l)}var r=this;f<g?this._sendRequest(a).done(e):this.onDeckRequestArgs=[].slice.call(arguments,0)},_sendRequest:function(a){function d(){f--;e[a]=null;c.onDeckRequestArgs&&(c._get.apply(c,c.onDeckRequestArgs),c.onDeckRequestArgs=null)}var c=this,g=e[a];g||
(f++,g=e[a]=h.ajax(a,this.ajaxSettings).always(d));return g},get:function(b,d){var e=this,f=encodeURIComponent(b||""),g;d=d||a.noop;f=this.replace?this.replace(this.url,f):this.url.replace(this.wildcard,f);(g=c.get(f))?a.defer(function(){d(e.filter?e.filter(g):g)}):this._get(f,d);return!!g}});return k}(),y=function(){var k,f,e,g;function c(d){a.bindAll(this);a.isString(d.template)&&!d.engine&&h.error("no template engine specified");!d.local&&(!d.prefetch&&!d.remote)&&h.error("one of local, prefetch, or remote is required");
this.name=d.name||a.getUniqueId();this.limit=d.limit||5;this.minLength=d.minLength||1;this.header=d.header;this.footer=d.footer;this.valueKey=d.valueKey||"value";this.template=b(d.template,d.engine,this.valueKey);this.local=d.local;this.prefetch=d.prefetch;this.remote=d.remote;this.itemHash={};this.adjacencyList={};this.storage=d.name?new v(d.name):null}function b(d,b,c){a.isFunction(d)||(a.isString(d)?(d=b.compile(d),d=a.bind(d.render,d)):d=function(a){return"<p>"+a[c]+"</p>"});return d}k="thumbprint";
f="protocol";e="itemHash";g="adjacencyList";a.mixin(c.prototype,{_processLocalData:function(a){this._mergeProcessedData(this._processData(a))},_loadPrefetchData:function(d){function b(l){l=d.filter?d.filter(l):l;l=c._processData(l);var h=l.itemHash,q=l.adjacencyList;c.storage&&(c.storage.set(e,h,d.ttl),c.storage.set(g,q,d.ttl),c.storage.set(k,m,d.ttl),c.storage.set(f,a.getProtocol(),d.ttl));c._mergeProcessedData(l)}var c=this,m="0.9.3"+(d.thumbprint||""),p,q,n,t;this.storage&&(p=this.storage.get(k),
q=this.storage.get(f),n=this.storage.get(e),t=this.storage.get(g));p=p!==m||q!==a.getProtocol();d=a.isString(d)?{url:d}:d;d.ttl=a.isNumber(d.ttl)?d.ttl:864E5;n&&t&&!p?(this._mergeProcessedData({itemHash:n,adjacencyList:t}),n=h.Deferred().resolve()):n=h.getJSON(d.url).done(b);return n},_transformDatum:function(d){var b=a.isString(d)?d:d[this.valueKey],c=d.tokens||a.tokenizeText(b),b={value:b,tokens:c};a.isString(d)?(b.datum={},b.datum[this.valueKey]=d):b.datum=d;b.tokens=a.filter(b.tokens,function(b){return!a.isBlankString(b)});
b.tokens=a.map(b.tokens,function(a){return a.toLowerCase()});return b},_processData:function(b){var c=this,e={},f={};a.each(b,function(b,d){var g=c._transformDatum(d),h=a.getUniqueId(g.value);e[h]=g;a.each(g.tokens,function(b,d){var c=d.charAt(0),c=f[c]||(f[c]=[h]);!~a.indexOf(c,h)&&c.push(h)})});return{itemHash:e,adjacencyList:f}},_mergeProcessedData:function(b){var c=this;a.mixin(this.itemHash,b.itemHash);a.each(b.adjacencyList,function(a,b){var d=c.adjacencyList[a];c.adjacencyList[a]=d?d.concat(b):
b})},_getLocalSuggestions:function(b){var c=this,e=[],f=[],g,h=[];a.each(b,function(b,d){var c=d.charAt(0);!~a.indexOf(e,c)&&e.push(c)});a.each(e,function(a,b){var d=c.adjacencyList[b];if(!d)return!1;f.push(d);if(!g||d.length<g.length)g=d});if(f.length<e.length)return[];a.each(g,function(e,g){var k=c.itemHash[g];a.every(f,function(b){return~a.indexOf(b,g)})&&a.every(b,function(b){return a.some(k.tokens,function(a){return 0===a.indexOf(b)})})&&h.push(k)});return h},initialize:function(){var a;this.local&&
this._processLocalData(this.local);this.transport=this.remote?new x(this.remote):null;a=this.prefetch?this._loadPrefetchData(this.prefetch):h.Deferred().resolve();this.local=this.prefetch=this.remote=null;this.initialize=function(){return a};return a},getSuggestions:function(b,c){function e(b){h=h.slice(0);a.each(b,function(b,c){var d=f._transformDatum(c);!a.some(h,function(a){return d.value===a.value})&&h.push(d);return h.length<f.limit});c&&c(h)}var f=this,g,h,k=!1;b.length<this.minLength||(g=a.tokenizeQuery(b),
h=this._getLocalSuggestions(g).slice(0,this.limit),h.length<this.limit&&this.transport&&(k=this.transport.get(b,e)),!k&&c&&c(h))}});return c}(),z=function(){function k(f){var e=this;a.bindAll(this);this.specialKeyCodeMap={9:"tab",27:"esc",37:"left",39:"right",13:"enter",38:"up",40:"down"};this.$hint=h(f.hint);this.$input=h(f.input).on("blur.tt",this._handleBlur).on("focus.tt",this._handleFocus).on("keydown.tt",this._handleSpecialKeyEvent);if(a.isMsie())this.$input.on("keydown.tt keypress.tt cut.tt paste.tt",
function(f){e.specialKeyCodeMap[f.which||f.keyCode]||a.defer(e._compareQueryToInputValue)});else this.$input.on("input.tt",this._compareQueryToInputValue);this.query=this.$input.val();this.$overflowHelper=h("<span></span>").css({position:"absolute",left:"-9999px",visibility:"hidden",whiteSpace:"nowrap",fontFamily:this.$input.css("font-family"),fontSize:this.$input.css("font-size"),fontStyle:this.$input.css("font-style"),fontVariant:this.$input.css("font-variant"),fontWeight:this.$input.css("font-weight"),
wordSpacing:this.$input.css("word-spacing"),letterSpacing:this.$input.css("letter-spacing"),textIndent:this.$input.css("text-indent"),textRendering:this.$input.css("text-rendering"),textTransform:this.$input.css("text-transform")}).insertAfter(this.$input)}a.mixin(k.prototype,s,{_handleFocus:function(){this.trigger("focused")},_handleBlur:function(){this.trigger("blured")},_handleSpecialKeyEvent:function(a){var e=this.specialKeyCodeMap[a.which||a.keyCode];e&&this.trigger(e+"Keyed",a)},_compareQueryToInputValue:function(){var a=
this.getInputValue(),e;e=this.query;var g=a;e=(e||"").replace(/^\s*/g,"").replace(/\s{2,}/g," ");g=(g||"").replace(/^\s*/g,"").replace(/\s{2,}/g," ");(e=e===g)&&this.query.length!==a.length?this.trigger("whitespaceChanged",{value:this.query}):e||this.trigger("queryChanged",{value:this.query=a})},destroy:function(){this.$hint.off(".tt");this.$input.off(".tt");this.$hint=this.$input=this.$overflowHelper=null},focus:function(){this.$input.focus()},blur:function(){this.$input.blur()},getQuery:function(){return this.query},
setQuery:function(a){this.query=a},getInputValue:function(){return this.$input.val()},setInputValue:function(a,e){this.$input.val(a);!e&&this._compareQueryToInputValue()},getHintValue:function(){return this.$hint.val()},setHintValue:function(a){this.$hint.val(a)},getLanguageDirection:function(){return(this.$input.css("direction")||"ltr").toLowerCase()},isOverflow:function(){this.$overflowHelper.text(this.getInputValue());return this.$overflowHelper.width()>this.$input.width()},isCursorAtEnd:function(){var f=
this.$input.val().length,e=this.$input[0].selectionStart;return a.isNumber(e)?e===f:document.selection?(e=document.selection.createRange(),e.moveStart("character",-f),f===e.text.length):!0}});return k}(),A=function(){function k(b){a.bindAll(this);this.isOpen=!1;this.isEmpty=!0;this.isMouseOverDropdown=!1;this.$menu=h(b.menu).on("mouseenter.tt",this._handleMouseenter).on("mouseleave.tt",this._handleMouseleave).on("click.tt",".tt-suggestion",this._handleSelection).on("mouseover.tt",".tt-suggestion",
this._handleMouseover)}function f(a){return a.data("suggestion")}var e={display:"block"},g={whiteSpace:"nowrap",cursor:"pointer"},c={whiteSpace:"normal"};a.mixin(k.prototype,s,{_handleMouseenter:function(){this.isMouseOverDropdown=!0},_handleMouseleave:function(){this.isMouseOverDropdown=!1},_handleMouseover:function(a){a=h(a.currentTarget);this._getSuggestions().removeClass("tt-is-under-cursor");a.addClass("tt-is-under-cursor")},_handleSelection:function(a){a=h(a.currentTarget);this.trigger("suggestionSelected",
f(a))},_show:function(){this.$menu.css("display","block")},_hide:function(){this.$menu.hide()},_moveCursor:function(a){var c,e;this.isVisible()&&(c=this._getSuggestions(),e=c.filter(".tt-is-under-cursor"),e.removeClass("tt-is-under-cursor"),a=c.index(e)+a,a=(a+1)%(c.length+1)-1,-1===a?this.trigger("cursorRemoved"):(-1>a&&(a=c.length-1),c=c.eq(a).addClass("tt-is-under-cursor"),this._ensureVisibility(c),this.trigger("cursorMoved",f(c))))},_getSuggestions:function(){return this.$menu.find(".tt-suggestions > .tt-suggestion")},
_ensureVisibility:function(a){var c=this.$menu.height()+parseInt(this.$menu.css("paddingTop"),10)+parseInt(this.$menu.css("paddingBottom"),10),e=this.$menu.scrollTop(),g=a.position().top;a=g+a.outerHeight(!0);0>g?this.$menu.scrollTop(e+g):c<a&&this.$menu.scrollTop(e+(a-c))},destroy:function(){this.$menu.off(".tt");this.$menu=null},isVisible:function(){return this.isOpen&&!this.isEmpty},closeUnlessMouseIsOverDropdown:function(){this.isMouseOverDropdown||this.close()},close:function(){this.isOpen&&
(this.isMouseOverDropdown=this.isOpen=!1,this._hide(),this.$menu.find(".tt-suggestions > .tt-suggestion").removeClass("tt-is-under-cursor"),this.trigger("closed"))},open:function(){this.isOpen||(this.isOpen=!0,!this.isEmpty&&this._show(),this.trigger("opened"))},setLanguageDirection:function(a){var c={left:"0",right:"auto"},e={left:"auto",right:" 0"};"ltr"===a?this.$menu.css(c):this.$menu.css(e)},moveCursorUp:function(){this._moveCursor(-1)},moveCursorDown:function(){this._moveCursor(1)},getSuggestionUnderCursor:function(){var a=
this._getSuggestions().filter(".tt-is-under-cursor").first();return 0<a.length?f(a):null},getFirstSuggestion:function(){var a=this._getSuggestions().first();return 0<a.length?f(a):null},renderSuggestions:function(b,d){var f="tt-dataset-"+b.name,k,m;m=this.$menu.find("."+f);var p,q,n;0===m.length&&(m=h('<span class="tt-suggestions"></span>').css(e),m=h("<div></div>").addClass(f).append(b.header).append(m).append(b.footer).appendTo(this.$menu));0<d.length?(this.isEmpty=!1,this.isOpen&&this._show(),
p=document.createElement("div"),q=document.createDocumentFragment(),a.each(d,function(a,d){d.dataset=b.name;k=b.template(d.datum);p.innerHTML='<div class="tt-suggestion">%body</div>'.replace("%body",k);n=h(p.firstChild).css(g).data("suggestion",d);n.children().each(function(){h(this).css(c)});q.appendChild(n[0])}),m.show().find(".tt-suggestions").html(q)):this.clearSuggestions(b.name);this.trigger("suggestionsRendered")},clearSuggestions:function(a){a=a?this.$menu.find(".tt-dataset-"+a):this.$menu.find('[class^="tt-dataset-"]');
var c=a.find(".tt-suggestions");a.hide();c.empty();0===this._getSuggestions().length&&(this.isEmpty=!0,this._hide())}});return k}(),B=function(){function k(c){var b,d;a.bindAll(this);var f=c.input;b=h(e.wrapper);d=h(e.dropdown);var f=h(f),k=h(e.hint);b=b.css(g.wrapper);d=d.css(g.dropdown);k.css(g.hint).css({backgroundAttachment:f.css("background-attachment"),backgroundClip:f.css("background-clip"),backgroundColor:f.css("background-color"),backgroundImage:f.css("background-image"),backgroundOrigin:f.css("background-origin"),
backgroundPosition:f.css("background-position"),backgroundRepeat:f.css("background-repeat"),backgroundSize:f.css("background-size")});f.data("ttAttrs",{dir:f.attr("dir"),autocomplete:f.attr("autocomplete"),spellcheck:f.attr("spellcheck"),style:f.attr("style")});f.addClass("tt-query").attr({autocomplete:"off",spellcheck:!1}).css(g.query);try{!f.attr("dir")&&f.attr("dir","auto")}catch(m){}this.$node=f.wrap(b).parent().prepend(k).append(d);this.datasets=c.datasets;this.dir=null;this.eventBus=c.eventBus;
c=this.$node.find(".tt-dropdown-menu");b=this.$node.find(".tt-query");d=this.$node.find(".tt-hint");this.dropdownView=(new A({menu:c})).on("suggestionSelected",this._handleSelection).on("cursorMoved",this._clearHint).on("cursorMoved",this._setInputValueToSuggestionUnderCursor).on("cursorRemoved",this._setInputValueToQuery).on("cursorRemoved",this._updateHint).on("suggestionsRendered",this._updateHint).on("opened",this._updateHint).on("closed",this._clearHint).on("opened closed",this._propagateEvent);
this.inputView=(new z({input:b,hint:d})).on("focused",this._openDropdown).on("blured",this._closeDropdown).on("blured",this._setInputValueToQuery).on("enterKeyed tabKeyed",this._handleSelection).on("queryChanged",this._clearHint).on("queryChanged",this._clearSuggestions).on("queryChanged",this._getSuggestions).on("whitespaceChanged",this._updateHint).on("queryChanged whitespaceChanged",this._openDropdown).on("queryChanged whitespaceChanged",this._setLanguageDirection).on("escKeyed",this._closeDropdown).on("escKeyed",
this._setInputValueToQuery).on("tabKeyed upKeyed downKeyed",this._managePreventDefault).on("upKeyed downKeyed",this._moveDropdownCursor).on("upKeyed downKeyed",this._openDropdown).on("tabKeyed leftKeyed rightKeyed",this._autocomplete)}function f(c){var b=c.find(".tt-query");a.each(b.data("ttAttrs"),function(c,e){a.isUndefined(e)?b.removeAttr(c):b.attr(c,e)});b.detach().removeData("ttAttrs").removeClass("tt-query").insertAfter(c);c.remove()}var e={wrapper:'<span class="twitter-typeahead"></span>',
hint:'<input class="tt-hint" type="text" autocomplete="off" spellcheck="off" disabled>',dropdown:'<span class="tt-dropdown-menu"></span>'},g={wrapper:{position:"relative",display:"inline-block"},hint:{position:"absolute",top:"0",left:"0",borderColor:"transparent",boxShadow:"none"},query:{position:"relative",verticalAlign:"top",backgroundColor:"transparent"},dropdown:{position:"absolute",top:"100%",left:"0",zIndex:"100",display:"none"}};a.isMsie()&&a.mixin(g.query,{backgroundImage:"url(data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7)"});
a.isMsie()&&7>=a.isMsie()&&(a.mixin(g.wrapper,{display:"inline",zoom:"1"}),a.mixin(g.query,{marginTop:"-1px"}));a.mixin(k.prototype,s,{_managePreventDefault:function(a){var b=a.data,d;d=!1;switch(a.type){case "tabKeyed":a=this.inputView.getHintValue();d=this.inputView.getInputValue();d=a&&a!==d;break;case "upKeyed":case "downKeyed":d=!b.shiftKey&&!b.ctrlKey&&!b.metaKey}d&&b.preventDefault()},_setLanguageDirection:function(){var a=this.inputView.getLanguageDirection();a!==this.dir&&(this.dir=a,this.$node.css("direction",
a),this.dropdownView.setLanguageDirection(a))},_updateHint:function(){var c=this.dropdownView.getFirstSuggestion(),c=c?c.value:null,b=this.dropdownView.isVisible(),d=this.inputView.isOverflow();c&&(b&&!d)&&(b=this.inputView.getInputValue(),d=b.replace(/\s{2,}/g," ").replace(/^\s+/g,""),d=a.escapeRegExChars(d),d=RegExp("^(?:"+d+")(.*$)","i"),c=d.exec(c),this.inputView.setHintValue(b+(c?c[1]:"")))},_clearHint:function(){this.inputView.setHintValue("")},_clearSuggestions:function(){this.dropdownView.clearSuggestions()},
_setInputValueToQuery:function(){this.inputView.setInputValue(this.inputView.getQuery())},_setInputValueToSuggestionUnderCursor:function(a){this.inputView.setInputValue(a.data.value,!0)},_openDropdown:function(){this.dropdownView.open()},_closeDropdown:function(a){this.dropdownView["blured"===a.type?"closeUnlessMouseIsOverDropdown":"close"]()},_moveDropdownCursor:function(a){var b=a.data;if(!b.shiftKey&&!b.ctrlKey&&!b.metaKey)this.dropdownView["upKeyed"===a.type?"moveCursorUp":"moveCursorDown"]()},
_handleSelection:function(c){var b="suggestionSelected"===c.type,d=b?c.data:this.dropdownView.getSuggestionUnderCursor();d&&(this.inputView.setInputValue(d.value),b?this.inputView.focus():c.data.preventDefault(),b&&a.isMsie()?a.defer(this.dropdownView.close):this.dropdownView.close(),this.eventBus.trigger("selected",d.datum,d.dataset))},_getSuggestions:function(){var c=this,b=this.inputView.getQuery();a.isBlankString(b)||a.each(this.datasets,function(a,e){e.getSuggestions(b,function(a){b===c.inputView.getQuery()&&
c.dropdownView.renderSuggestions(e,a)})})},_autocomplete:function(a){var b;if("rightKeyed"===a.type||"leftKeyed"===a.type)if(b=this.inputView.isCursorAtEnd(),a="ltr"===this.inputView.getLanguageDirection()?"leftKeyed"===a.type:"rightKeyed"===a.type,!b||a)return;b=this.inputView.getQuery();a=this.inputView.getHintValue();""!==a&&b!==a&&(b=this.dropdownView.getFirstSuggestion(),this.inputView.setInputValue(b.value),this.eventBus.trigger("autocompleted",b.datum,b.dataset))},_propagateEvent:function(a){this.eventBus.trigger(a.type)},
destroy:function(){this.inputView.destroy();this.dropdownView.destroy();f(this.$node);this.$node=null},setQuery:function(a){this.inputView.setQuery(a);this.inputView.setInputValue(a);this._clearHint();this._clearSuggestions();this._getSuggestions()}});return k}();(function(){var k={},f;f={initialize:function(e){var f;e=a.isArray(e)?e:[e];0===e.length&&h.error("no datasets provided");f=a.map(e,function(a){var b=k[a.name]?k[a.name]:new y(a);a.name&&(k[a.name]=b);return b});return this.each(function(){var c=
h(this),b,d=new u({el:c});b=a.map(f,function(a){return a.initialize()});c.data("ttView",new B({input:c,eventBus:d=new u({el:c}),datasets:f}));h.when.apply(h,b).always(function(){a.defer(function(){d.trigger("initialized")})})})},destroy:function(){return this.each(function(){var a=h(this),f=a.data("ttView");f&&(f.destroy(),a.removeData("ttView"))})},setQuery:function(a){return this.each(function(){var f=h(this).data("ttView");f&&f.setQuery(a)})}};jQuery.fn.typeahead=function(a){return f[a]?f[a].apply(this,
[].slice.call(arguments,1)):f.initialize.apply(this,arguments)}})()})(window.jQuery);
